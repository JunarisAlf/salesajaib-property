"use strict";function socrates_fit_logo_title(){if(jQuery("#header .site-title").length){var e,i=jQuery("#header .site-title"),t=Math.ceil(i[0].getBoundingClientRect().width),a=jQuery("#header .wrapper"),n=parseInt(a.css("padding-left"))+parseInt(a.css("padding-right")),o=Math.ceil(a[0].getBoundingClientRect().width)-n,s=parseInt(i.css("font-size")),r=jQuery("#header-widgets"),d=jQuery("#navigation-aside"),l=0,c=0;if(o,r.length&&(l=Math.ceil(r[0].getBoundingClientRect().width)),d.length&&(c=Math.ceil(d[0].getBoundingClientRect().width)),jQuery("body").hasClass("body-logo-position-center")&&(l=0,c=0),t>(e=o-l-c))do{if(t-e==1)break;if(s=parseInt(i.css("font-size")),(s-=1)<12)break;i.css({"font-size":s}),t=Math.ceil(i[0].getBoundingClientRect().width)}while(t>e)}}function socrates_fit_menu(){if(jQuery("#navigation li:visible").length){var e,i,t,a=jQuery("#navigation .wrapper"),n=jQuery("#navigation-inner"),o=0;if(jQuery("#header-search").length&&(o=jQuery("#header-search").outerWidth()+20),e=a.width()-o,n.width()>e)do{if(i=parseInt(n.find(".menu > li").css("margin-right")),t=parseInt(n.find(".menu > li > a").css("font-size")),i>=5?(i-=1,n.find(".menu > li").css({"margin-right":i,"padding-right":i})):(t-=1,n.find(".menu > li > a").css({"font-size":t})),t<12&&i<5)break}while(n.width()>e)}}function socrates_fit_menu_aside(){if(jQuery("#navigation-aside li:visible").length){var e,i,t,a=jQuery("#header .wrapper"),n=jQuery("#navigation-aside-inner"),o=0;if(jQuery("#logo").length&&(o=jQuery("#logo").outerWidth()+20),jQuery("body").hasClass("body-logo-position-center")&&(o=0),e=a.width()-o,n.width()>e)do{if(i=parseInt(n.find(".menu > li").css("margin-right")),t=parseInt(n.find(".menu > li > a").css("font-size")),i>=5?(i-=1,n.find(".menu > li").css({"margin-right":i,"padding-right":i})):(t-=1,n.find(".menu > li > a").css({"font-size":t})),t<12&&i<5)break}while(n.width()>e)}}!function(e){e.fn.fitVids=function(i){var t={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',a.appendChild(n.childNodes[1])}return i&&e.extend(t,i),this.each(function(){var i=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];t.customSelector&&i.push(t.customSelector);var a=".fitvidsignore";t.ignore&&(a=a+", "+t.ignore);var n=e(this).find(i.join(","));(n=(n=n.not("object object")).not(a)).each(function(i){var t=e(this);if(!(t.parents(a).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var n=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var o="fitvid"+i;t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),jQuery(document).ready(function(e){socrates_fit_menu(),socrates_fit_menu_aside(),socrates_fit_logo_title(),e("body").fitVids(),e("#navigation #primary-menu > li:has(ul) > a").append('<span class="fa fa-angle-down"></span>'),e("#navigation-aside #primary-menu > li:has(ul) > a").append('<span class="fa fa-angle-down"></span>'),e("#top-bar #top-bar-menu > li:has(ul) > a").append('<span class="fa fa-angle-down"></span>'),e("#mobile-navigation-menu li:has(ul)").append('<span class="fa fa-plus"></span>'),e(document).on("click",".header-mobile-nav-hook",function(i){e("#mobile-navigation-menu").toggleClass("active")}),e(document).on("click","#mobile-navigation-menu li .fa",function(i){i.stopPropagation(),e(this).closest("li").toggleClass("expand")}),e(document).on("click","#header-search .fa",function(){e("#header-search form").submit()}),e(document).on("click",".scroll-to-top",function(){console.log("test"),e("html, body").animate({scrollTop:0})})}),jQuery(window).load(function(){socrates_fit_menu(),socrates_fit_menu_aside(),socrates_fit_logo_title()}),jQuery(window).resize(function(){socrates_fit_menu(),socrates_fit_menu_aside(),socrates_fit_logo_title()});